// Code generated by forge generate. DO NOT EDIT.

package factories

import (
	"{{.ProjectModule}}/gen/models"
	"encoding/json"
	"time"

	"github.com/google/uuid"
	"github.com/shopspring/decimal"
)

// New{{.Name}} creates a {{.Name}} with default test values.
func New{{.Name}}() *models.{{.Name}} {
	return &models.{{.Name}}{
		{{range .Fields}}{{if not (isIDField .)}}
		{{.Name}}: {{defaultTestValue .}},
		{{end}}{{end}}
		{{- if .Options.TenantScoped}}
		TenantID: uuid.MustParse("00000000-0000-0000-0000-000000000001"), // default test tenant
		{{- end}}
	}
}

// {{.Name}}Builder provides a fluent API for building test {{.Name}} instances.
type {{.Name}}Builder struct {
	instance *models.{{.Name}}
}

// Build{{.Name}} starts building a {{.Name}} with default values.
func Build{{.Name}}() *{{.Name}}Builder {
	return &{{.Name}}Builder{instance: New{{.Name}}()}
}

{{range .Fields}}{{if not (isIDField .)}}
// With{{.Name}} sets the {{.Name}} field.
func (b *{{$.Name}}Builder) With{{.Name}}(v {{goType .Type}}) *{{$.Name}}Builder {
	b.instance.{{.Name}} = v
	return b
}
{{end}}{{end}}
{{- if .Options.TenantScoped}}
// WithTenantID sets the TenantID field.
func (b *{{.Name}}Builder) WithTenantID(v uuid.UUID) *{{.Name}}Builder {
	b.instance.TenantID = v
	return b
}
{{- end}}

// Build returns the constructed {{.Name}}.
func (b *{{.Name}}Builder) Build() *models.{{.Name}} {
	return b.instance
}
