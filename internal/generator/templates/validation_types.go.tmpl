// Code generated by forge generate. DO NOT EDIT.

package validation

import (
	"fmt"
	"strings"
)

// FieldError represents a single validation error for a field.
type FieldError struct {
	Field   string `json:"field"`
	Rule    string `json:"rule"`
	Message string `json:"message"`
}

// ValidationErrors is a collection of validation errors organized by field.
type ValidationErrors map[string][]FieldError

// Add appends a new validation error to the collection.
func (ve ValidationErrors) Add(field, rule, message string) {
	ve[field] = append(ve[field], FieldError{
		Field:   field,
		Rule:    rule,
		Message: message,
	})
}

// HasErrors returns true if there are any validation errors.
func (ve ValidationErrors) HasErrors() bool {
	return len(ve) > 0
}

// Error implements the error interface.
func (ve ValidationErrors) Error() string {
	if !ve.HasErrors() {
		return ""
	}

	var messages []string
	for _, errors := range ve {
		for _, err := range errors {
			messages = append(messages, err.Message)
		}
	}
	return strings.Join(messages, "; ")
}

// NewValidationErrors creates a new empty ValidationErrors collection.
func NewValidationErrors() ValidationErrors {
	return make(ValidationErrors)
}
